


<!-- Search & View Mode -->

<div class="container py-4">
  <!-- Note Form -->
  <form (ngSubmit)="onSubmit()" #noteForm="ngForm" class="mb-4">
    <div class="row g-3">
      <div class="col-md-4">
        <input type="text" class="form-control" placeholder="Title"
               [(ngModel)]="newNote.title" name="title" required>
      </div>
      <div class="col-md-6">
        <input type="text" class="form-control" placeholder="description"
               [(ngModel)]="newNote.description" name="description" required>
      </div>
      <div class="col-md-2 d-grid">
        <button type="submit" class="btn btn-primary">{{ editingNote ? 'Update' : 'Add' }}</button>
      </div>
    </div>
  </form>

  <!-- Search + View Toggle -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <input type="text" class="form-control w-50" placeholder="Filter by title"
           [(ngModel)]="searchText" (ngModelChange)="onSearchTextChanged()">
    <button class="btn btn-outline-secondary ms-3" (click)="toggleView()">
      Toggle to {{ isCardView ? 'Card' : 'List' }} View
    </button>
  </div>

  <!-- List View -->
  <div *ngIf="isCardView">
    <table class="table table-bordered">
      <thead class="table-light">
        <tr>
          <th>Title</th>
          <th>description</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of filteredNotes">
          <td>{{ item.title }}</td>
          <td>{{ item.description }}</td>
          <td>
            <button class="btn btn-sm btn-warning me-2" (click)="onEdit(item)">Edit</button>
            <button class="btn btn-sm btn-danger" (click)="onDelete(item)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Card View -->
  <div *ngIf="!isCardView" class="row row-cols-1 row-cols-md-3 g-3">
    <div *ngFor="let item of filteredNotes" class="col">
      <div class="card h-100">
        <div class="card-body">
          <h5 class="card-title">{{ item.title }}</h5>
          <p class="card-text">{{ item.description }}</p>
        </div>
        <div class="card-footer text-end">
          <button class="btn btn-sm btn-warning me-2" (click)="onEdit(item)">Edit</button>
          <button class="btn btn-sm btn-danger" (click)="onDelete(item)">Delete</button>
        </div>
      </div>
    </div>
  </div>
</div>

  

